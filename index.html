<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Color Tap Game</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      height: 100vh;
      background-color: #e6f0ff; /* light blue background */
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: #222;
    }

    h1 {
      font-size: 3rem;
      margin-bottom: 0.5rem;
    }

    #word {
      font-size: 3rem;
      font-weight: bold;
      padding: 15px 25px;
      margin: 15px;
      border-radius: 12px;
      background: #ffffff;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    .options {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .btn {
      padding: 15px 25px;
      font-size: 1.3rem;
      border-radius: 10px;
      cursor: pointer;
      border: 3px solid #ffffff;
      transition: all 0.3s ease;
      box-shadow: 0 0 10px rgba(0,0,0,0.15);
      color: #fff;
      font-weight: bold;
      text-shadow: 0 1px 3px rgba(0,0,0,0.5);
    }

    .btn:hover {
      transform: scale(1.07);
      box-shadow: 0 0 15px rgba(0,0,0,0.25);
    }

    #score, #timer, #highscore {
      font-size: 1.2rem;
      margin: 8px;
    }

    #restart {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 1.2rem;
      background-color: #ddddff;
      border: none;
      border-radius: 8px;
      color: #333;
      cursor: pointer;
      display: none;
      box-shadow: 0px 0px 5px rgba(0,0,0,0.2);
    }

    #restart:hover {
      background-color: #ccccee;
    }
  </style>
</head>
<body>

  <h1>Color Tap</h1>
  <div id="score">Score: 0</div>
  <div id="highscore">High Score: 0</div>
  <div id="timer">Time: 3</div>
  <div id="word">RED</div>
  <div class="options" id="options"></div>
  <button id="restart" onclick="startGame()">Restart</button>

  <audio id="clickSound" src="https://assets.mixkit.co/sfx/preview/mixkit-water-drop-1222.mp3"></audio>

  <script>
    const colors = ["Red", "Green", "Blue", "Yellow", "Orange", "Purple", "Pink", "Cyan", "Lime", "Brown"];
    const wordEl = document.getElementById("word");
    const optionsEl = document.getElementById("options");
    const timerEl = document.getElementById("timer");
    const scoreEl = document.getElementById("score");
    const highscoreEl = document.getElementById("highscore");
    const clickSound = document.getElementById("clickSound");

    let score = 0;
    let timeLeft = 3;
    let timerInterval;
    let correctColor = "";
    let highScore = localStorage.getItem("highScore") || 0;
    highscoreEl.textContent = "High Score: " + highScore;

    function startGame() {
      score = 0;
      timeLeft = 3;
      updateScore();
      document.getElementById("restart").style.display = "none";
      nextRound();
    }

    function updateScore() {
      scoreEl.textContent = "Score: " + score;
      if (score > highScore) {
        highScore = score;
        localStorage.setItem("highScore", highScore);
        highscoreEl.textContent = "High Score: " + highScore;
      }
    }

    function nextRound() {
      clearInterval(timerInterval);
      timeLeft = 3;
      updateTimer();

      timerInterval = setInterval(() => {
        timeLeft--;
        updateTimer();
        if (timeLeft <= 0) endGame();
      }, 1000);

      const maxOptions = Math.min(4 + Math.floor(score / 3), colors.length);
      const shuffled = [...colors].sort(() => Math.random() - 0.5).slice(0, maxOptions);
      correctColor = shuffled[Math.floor(Math.random() * shuffled.length)];

      wordEl.textContent = correctColor.toUpperCase();
      optionsEl.innerHTML = "";

      shuffled.sort(() => Math.random() - 0.5).forEach(color => {
        const btn = document.createElement("button");
        btn.className = "btn";
        btn.style.backgroundColor = color.toLowerCase();
        btn.onclick = () => handleClick(color);
        optionsEl.appendChild(btn);
      });
    }

    function updateTimer() {
      timerEl.textContent = "Time: " + timeLeft;
    }

    function handleClick(color) {
      if (color === correctColor) {
        clickSound.play();
        score++;
        updateScore();
        nextRound();
      } else {
        endGame();
      }
    }

    function endGame() {
      clearInterval(timerInterval);
      document.getElementById("restart").style.display = "block";
      wordEl.textContent = "Game Over!";
      optionsEl.innerHTML = "";
    }

    startGame();
  </script>
</body>
</html>